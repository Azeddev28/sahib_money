{% extends "layouts/base.html" %}
{% load static %}
{% block title %} Wallet Deposit {% endblock %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}
<style>
  .deposit-btn {
    float: right;
    margin-top: 4%;
  }
  .input-txt {
    font-weight: 400;
  }
</style>
<input id="form-success" type="hidden" value="{{form_success}}" />

<div class="row justify-content-center mt-4">
  <div class="col-12 col-xl-9">
    <div class="card shadow border-0 p-4 p-md-5 position-relative">
      {% comment %} <div class="d-flex justify-content-between pb-4 pb-md-5 mb-4 mb-md-5 border-bottom border-light">
        <img class="image-md" src="https://appsrv1-147a1.kxcdn.com/volt-dashboard-pro-v141/img/brand/light.svg"
          height="30" width="30" alt="Rocket Logo">
        <div>
          <h4>Volt LLC.</h4>
          <ul class="list-group simple-list">
            <li class="list-group-item fw-normal">112 Washington Square</li>
            <li class="list-group-item fw-normal">New York, USA</li>
            <li class="list-group-item fw-normal"><a class="fw-bold text-primary" href="#">company@themesberg.com</a>
            </li>
          </ul>
        </div>
      </div> {% endcomment %}
      <div class="mb-6 d-flex align-items-center justify-content-center">
        <h2 class="h1 mb-0">Select Deposit Bank</h2>
      </div>
      <form method="post" id="selectBankForm" action="." enctype="multipart/form-data">
        {% csrf_token %}

        <div class="row justify-content-between mb-4 mb-md-5">
          <div class="col-sm">
            <h5>Select Bank:</h5>
            <div class="mb-4 mt-4 col-6">
              <select aria-label="Default select example" class="form-select" id="select_bank">
                <option id="blank_option" selected="">Select Bank</option>
                {% for bank in banks %}
                  <option id="{{account_no}}" data-iban-no="{{bank.iban_no}}" data-account-no="{{bank.account_no}}" data-account-name="{{bank.account_name}}" value="{{bank.account_no}}">{{bank.account_no}}, {{bank.account_name}}</option>
                {% endfor %}
              </select>
            </div>
          </div>
        </div>
        <div class="row justify-content-between mb-4 mb-md-5">
          <div class="col-sm">
            <h5>Bank Information:</h5>
            <div class='mt-4'>
              <ul class="list-group simple-list">
                <li class="list-group-item fw-normal"><strong class='input-txt'>Account Name:</strong>   <input id='id_bank_account_name' name='bank_account_name' class="form-control" {{bank.account_name}} /></li>
                <li class="list-group-item fw-normal"><strong class='input-txt'>Account No:</strong>    <input id='id_bank_account_no' name='bank_account_no' class="form-control" {{bank.account_no}} /></li>
                <li class="list-group-item fw-normal"><strong class='input-txt'>Iban No:</strong>    <input id='id_bank_iban_no' name='bank_iban_no' class="form-control" {{bank.iban_no}} /></li>
                <li class="list-group-item fw-normal mt-2"><a class="fw-bold text-primary" href="#">support@sahibmoney.com</a>
                </li>
              </ul>
            </div>
            <div class="deposit-btn">
              <input type="submit" value="Proceed" class="btn btn-primary">
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
{% include 'wallet/success_modal.html' %}

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script src="{% static 'assets/js/drag-and-drop.js' %}"></script>
<script>
  $(document).on('change', '#select_bank', function(){
    if($( "#select_bank option:selected" ).attr('id') === 'blank_option'){

    }else{
      $('#id_bank_account_name').val($( "#select_bank option:selected" ).data('account-name'))
      $('#id_bank_account_no').val($( "#select_bank option:selected" ).data('account-no'))
      $('#id_bank_iban_no').val($( "#select_bank option:selected" ).data('iban-no'))
    }
  })
</script>
{% endblock javascripts %}